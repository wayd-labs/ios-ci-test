#dependencies:
#  pre:
#    - sudo gem install cocoapods --version 0.38.2
#    # CocoaPods sometimes has issues using caches
#    # between different versions of CocoaPods.
#    - pod setup
#    - pod install

general:
  build_dir: ios-ci-test

machine:
  environment:
    XCODE_SCHEME: ios-ci-test
    LANG: en_US.UTF-8
  xcode:
    version: "6.4"

test:
  override:
    - ../uiautomation/ui-screen-shooter/ui-screen-shooter.sh . ../uiautomation/tests.js

deployment:
  staging:
    branch:  /feature\/.*/
    commands: 
      - sh ../scripts/add-key.sh
      - sh ../scripts/crashlytics.sh
      - sh ../scripts/remove-key.sh
